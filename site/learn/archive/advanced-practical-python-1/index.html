
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
      
      
      
      
      <link rel="icon" href="../../../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.5.3, mkdocs-material-9.5.3">
    
    
      
        <title>Advanced Practical Python #1: Getting Warmed Up - OARC Technology Sandbox</title>
      
    
    
      <link rel="stylesheet" href="../../../assets/stylesheets/main.50c56a3b.min.css">
      
        
        <link rel="stylesheet" href="../../../assets/stylesheets/palette.06af60db.min.css">
      
      


    
    
      
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
      <link rel="stylesheet" href="../../../css/style.css">
    
    <script>__md_scope=new URL("../../..",location),__md_hash=e=>[...e].reduce((e,_)=>(e<<5)-e+_.charCodeAt(0),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
    
   <link href="../../../assets/stylesheets/glightbox.min.css" rel="stylesheet"/><style>
    html.glightbox-open { overflow: initial; height: 100%; }
    .gslide-title { margin-top: 0px; user-select: text; }
    .gslide-desc { color: #666; user-select: text; }
    .gslide-image img { background: white; }
    .gscrollbar-fixer { padding-right: 15px; }
    .gdesc-inner { font-size: 0.75rem; }
    body[data-md-color-scheme="slate"] .gdesc-inner { background: var(--md-default-bg-color);}
    body[data-md-color-scheme="slate"] .gslide-title { color: var(--md-default-fg-color);}
    body[data-md-color-scheme="slate"] .gslide-desc { color: var(--md-default-fg-color);}</style> <script src="../../../assets/javascripts/glightbox.min.js"></script></head>
  
  
    
    
    
    
    
    <body dir="ltr" data-md-color-scheme="default" data-md-color-primary="white" data-md-color-accent="amber">
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#part-1-getting-a-basic-count-of-files" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

<header class="md-header" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href="../../.." title="OARC Technology Sandbox" class="md-header__button md-logo" aria-label="OARC Technology Sandbox" data-md-component="logo">
      
  <img src="../../../logo.jpg" alt="logo">

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2Z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            OARC Technology Sandbox
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              Advanced Practical Python #1: Getting Warmed Up
            
          </span>
        </div>
      </div>
    </div>
    
      
    
    
    
    
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
            
<nav class="md-tabs" aria-label="Tabs" data-md-component="tabs">
  <div class="md-grid">
    <ul class="md-tabs__list">
      
        
  
  
  
    <li class="md-tabs__item">
      <a href="../../../work/" class="md-tabs__link">
        
  
    
  
  Work

      </a>
    </li>
  

      
        
  
  
  
    <li class="md-tabs__item">
      <a href="../../" class="md-tabs__link">
        
  
    
  
  Learn

      </a>
    </li>
  

      
        
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../../../connect/" class="md-tabs__link">
          
  
    
  
  Connect

        </a>
      </li>
    
  

      
        
  
  
  
    <li class="md-tabs__item">
      <a href="../../../musings/" class="md-tabs__link">
        
  
    
  
  Musings

      </a>
    </li>
  

      
    </ul>
  </div>
</nav>
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    


  


<nav class="md-nav md-nav--primary md-nav--lifted" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../../.." title="OARC Technology Sandbox" class="md-nav__button md-logo" aria-label="OARC Technology Sandbox" data-md-component="logo">
      
  <img src="../../../logo.jpg" alt="logo">

    </a>
    OARC Technology Sandbox
  </label>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../work/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Work
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../../" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Learn
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    
    
      
        
          
        
      
        
      
        
      
    
    
    
    
      
      
    
    <li class="md-nav__item md-nav__item--section md-nav__item--nested">
      
        
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3" >
        
          
          
          <div class="md-nav__link md-nav__container">
            <a href="../../../connect/" class="md-nav__link ">
              
  
  <span class="md-ellipsis">
    Connect
  </span>
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_3" id="__nav_3_label" tabindex="">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_3_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3">
            <span class="md-nav__icon md-icon"></span>
            Connect
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../connect/consult/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Consult
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../connect/where/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Where is the Sandbox
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../musings/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Musings
  </span>
  

      </a>
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#part-1-getting-a-basic-count-of-files" class="md-nav__link">
    <span class="md-ellipsis">
      Part 1. Getting a basic count of files
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#import-modules" class="md-nav__link">
    <span class="md-ellipsis">
      import modules
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#walk-through-the-directories" class="md-nav__link">
    <span class="md-ellipsis">
      'walk' through the directories
    </span>
  </a>
  
    <nav class="md-nav" aria-label="'walk' through the directories">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#part-2-counting-unique-file-extensions" class="md-nav__link">
    <span class="md-ellipsis">
      Part 2. Counting unique file extensions
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#walk-through-the-directories_1" class="md-nav__link">
    <span class="md-ellipsis">
      'walk' through the directories
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#walk-through-the-directories_2" class="md-nav__link">
    <span class="md-ellipsis">
      'walk' through the directories
    </span>
  </a>
  
    <nav class="md-nav" aria-label="'walk' through the directories">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#part-3-moving-files-into-folders" class="md-nav__link">
    <span class="md-ellipsis">
      Part 3. Moving files into folders
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#part-4-moving-your-files-into-folders" class="md-nav__link">
    <span class="md-ellipsis">
      Part 4. Moving your files into folders
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#define-the-folders-to-look-through" class="md-nav__link">
    <span class="md-ellipsis">
      define the folders to look through
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#set-an-array-for-the-file-types" class="md-nav__link">
    <span class="md-ellipsis">
      set an array for the file types
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#create-a-list-of-file-types" class="md-nav__link">
    <span class="md-ellipsis">
      create a list of file types
    </span>
  </a>
  
    <nav class="md-nav" aria-label="create a list of file types">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#optional-print-out-the-list-of-file-types" class="md-nav__link">
    <span class="md-ellipsis">
      OPTIONAL: print out the list of file types
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset">
                
                  


<p>In the first part of our Advanced Practical Python workshop we are going to create a script the moves our files into folders based on the file type (also known as file extension).</p>
<p><strong>Warning:</strong> This script WILL move your files so do not run it in a system directory or somewhere that you did not want to have organized! THERE IS NO UNDO!!!! <a href="https://emojipedia.org/smiling-face-with-smiling-eyes/">?</a></p>
<h2 id="part-1-getting-a-basic-count-of-files">Part 1. Getting a basic count of files<a class="headerlink" href="#part-1-getting-a-basic-count-of-files" title="Permanent link">&para;</a></h2>
<p>Let's start with importing some built in Python modules:</p>
<h1 id="import-modules">import modules<a class="headerlink" href="#import-modules" title="Permanent link">&para;</a></h1>
<p>import shutil
import os</p>
<p>"import Shutil" brings in shell utilities which allows Python to interact in the command line, and "import os" allows interaction with the operating system.</p>
<p>After bringing these imports in, we are going to use os.listdir  to list all the directories where ever this script is running:</p>
<p>folders = os.listdir("./")</p>
<p>We will use what I call "fancy printing" to avoid the issue with blank folders, which uses brackets as placeholders and the .format() to place variables inside:</p>
<p>print "here are the folders: {}".format(folders)</p>
<p>Next we will 'walk' through our folders and just get a count of the number of files in there:</p>
<p>count = 0</p>
<h1 id="walk-through-the-directories">'walk' through the directories<a class="headerlink" href="#walk-through-the-directories" title="Permanent link">&para;</a></h1>
<p>for files in os.walk("."):
    for filename in files:
        count +=1
print "This is the count of files {}".format(count)</p>
<p>Count just gives us a place holder for the number, before we begin a for-loop within os.walk(".")</p>
<p>Within that for-loop, we will nest another loop (for the file names later on) and increment the count.</p>
<p>Then we'll finally print the count.</p>
<p>We now have a basic function that counts the total number of files within the scripts folder.</p>
<h2 id="part-2-counting-unique-file-extensions">Part 2. Counting unique file extensions<a class="headerlink" href="#part-2-counting-unique-file-extensions" title="Permanent link">&para;</a></h2>
<p>Let's do something more useful and get the specific file types of the files within the folder. Set a blank array for the file types with file_types = []  we will then encase our function in a file name loop because the current loop just deals with "walking." The next line of code then splits the entire file name when you encounter the first "." using filename.split(".")</p>
<p>file_types =[]</p>
<h1 id="walk-through-the-directories_1">'walk' through the directories<a class="headerlink" href="#walk-through-the-directories_1" title="Permanent link">&para;</a></h1>
<p>for files in os.walk("."):
    for filename in files:
        extension = filename.split(".")[-1]</p>
<p>Remember that in Python, you can get the values of an index by using brackets. In this case we want the last value after a "." so we use [-1]</p>
<p>For example, given some_array = ["apple", "grape", "melon"] then some_array[0] will return "apple".  We can also use colons to identify starting points, some_array[1:] will return "grape" and "melon" while some_array[:1] will return only "apple."</p>
<p>Now let's do something useful and get a list of unique extensions in our directory by adding the following <strong>if-statement</strong>:</p>
<p>file_types = []</p>
<h1 id="walk-through-the-directories_2">'walk' through the directories<a class="headerlink" href="#walk-through-the-directories_2" title="Permanent link">&para;</a></h1>
<p>for files in os.walk("."):
    for filename in files:
        print filename
        extension = filename.split(".")[-1]
        if extension not in file_types:
            file_types.append(extension)
print "{}".format(file_types)</p>
<p>This if-statement adds unique extensions to the "filetypes" array using the "not in" condition.</p>
<p>If you get all the file types in your folder listed, then rejoice!</p>
<p>The next step is to create folders for each file extension and then move our files into there.</p>
<h2 id="part-3-moving-files-into-folders">Part 3. Moving files into folders<a class="headerlink" href="#part-3-moving-files-into-folders" title="Permanent link">&para;</a></h2>
<p>Now that we have a list of folders, we can loop through them and create folders. Start with our good friend, the for-loop and a print statement:</p>
<p>for file_type in file_types:
    print file_type</p>
<p>Time to get functional and build a function!</p>
<p>In Python the format for a function is as follows:</p>
<p>def function_name(parameters):
    #do something</p>
<p>Our function is going to look like this:</p>
<p>def create_path(path):
    if not os.path.isdir(path):
        os.mkdir(path)</p>
<p>The name of the function is called create_path  and it takes in a parameter called path  and what it simply does is make a path if it does not already exist. Pretty simple function, right?</p>
<p>But in order for a function to... function we need to use it, so let's do so:</p>
<p>create_path(file_type)</p>
<p>Make sure that create_path is outside of the function definition (but still within our loop), or else it will not work.</p>
<p>Since the function will exists within the looping of file types, so the loop should look like this now:</p>
<p>for file_type in file_types:
    destination = "./"+file_type+"/"
    def create_path(path):
        if not os.path.isdir(path):
            os.mkdir(path)</p>
<div class="codehilite"><pre><span></span><code><span class="nx">create</span><span class="err">\</span><span class="nx">_path</span><span class="p">(</span><span class="nx">file</span><span class="err">\</span><span class="nx">_type</span><span class="p">)</span>
</code></pre></div>

<p>Time to actually use those folders!</p>
<h2 id="part-4-moving-your-files-into-folders">Part 4. Moving your files into folders<a class="headerlink" href="#part-4-moving-your-files-into-folders" title="Permanent link">&para;</a></h2>
<p>Within the loop of for file_type in file_types:  we are going to add another loop inside of it! Adding loops within loops is a common exercise, in this instance our logic is as follows:</p>
<ol>
<li>For each <strong>file type</strong> we are going to create a <strong>directory</strong> (if it does not already exist)</li>
<li>For each <strong>file</strong> we are going to see if it matches that <strong>file type</strong> and move it into that <strong>directory</strong>.</li>
</ol>
<p>We already finished the first part, so now we just need to do the second, right? Not quite! We did create the directories, but we haven't used them yet! Let's direct the files to the correct "directories" with the following:</p>
<p>destination = "./"+file_type+"/"</p>
<p>This allows us to set a destination that is a folder with the file type name.</p>
<p>You can put this destination variable right before our new for-loop:</p>
<p>destination = "./"+file_type+"/"
for files in folders:
    #do something to 'files'</p>
<p>Ok, now we will loop through the files in the folders and move the files ONLY IF the extension ends with the same file_type:</p>
<p>for files in folders:
    if files.endswith("."+file_type):
        shutil.move(files,destination)</p>
<p>Line 1 starts the loop to look for files within the folders.</p>
<p>Line 2 is the conditional statement that looks for files that ends with the same file types using files.endswith("."+file_type)</p>
<p>The last line finally moves the file over with shutil.move(files, destination)  using the destination  variable that we defined earlier.</p>
<p>Wait! Don't run the code just yet, because if you do.. the actual script will be moved as well...</p>
<p>Pop quiz! How would you work around this?</p>
<p>Times up! The solution is to use an if-else statement, like the following:</p>
<p>if files == 'fileOrganizer.py':
    print "found file organizer so ignoring it."
else:
    shutil.move(files,destination)</p>
<p>The logic here is that if "files" is equal to the name of your python script, ignore it! Otherwise, run the shutil.move command.</p>
<p>If you made it this far, congrats! You finished the warm up!</p>
<p>Your final script should look like the following:</p>
<p>import shutil
import os</p>
<h1 id="define-the-folders-to-look-through">define the folders to look through<a class="headerlink" href="#define-the-folders-to-look-through" title="Permanent link">&para;</a></h1>
<p>folders = os.listdir("./")</p>
<h1 id="set-an-array-for-the-file-types">set an array for the file types<a class="headerlink" href="#set-an-array-for-the-file-types" title="Permanent link">&para;</a></h1>
<p>file_types = []</p>
<h1 id="create-a-list-of-file-types">create a list of file types<a class="headerlink" href="#create-a-list-of-file-types" title="Permanent link">&para;</a></h1>
<p>for root, dirs, files in os.walk("."):
    for filename in files:
        the_type = filename.split(".")[-1]
        if the_type not in file_types:
            file_types.append(the_type)</p>
<h2 id="optional-print-out-the-list-of-file-types">OPTIONAL: print out the list of file types<a class="headerlink" href="#optional-print-out-the-list-of-file-types" title="Permanent link">&para;</a></h2>
<p>print ('These are file types: \n {}').format(file_types)</p>
<p>for file_type in file_types:
    #define the function for making folders
    def create_path(path):
        if not os.path.isdir(path):
            os.mkdir(path)</p>
<div class="codehilite"><pre><span></span><code><span class="c1">#use the function</span>
<span class="n">create</span>\<span class="n">_path</span><span class="p">(</span><span class="n">file</span>\<span class="n">_type</span><span class="p">)</span>

<span class="c1">#make a variable for the target destinations</span>
<span class="n">destination</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">&quot;./&quot;</span><span class="o">+</span><span class="n">file</span>\<span class="n">_type</span><span class="o">+</span><span class="s2">&quot;/&quot;</span>

<span class="c1">#loop through each file in the folders</span>
<span class="k">for</span><span class="w"> </span><span class="n">files</span><span class="w"> </span><span class="ow">in</span><span class="w"> </span><span class="n">folders</span><span class="p">:</span>
<span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="n">files</span><span class="o">.</span><span class="n">endswith</span><span class="p">(</span><span class="s2">&quot;.&quot;</span><span class="o">+</span><span class="n">file</span>\<span class="n">_type</span><span class="p">):</span>
<span class="w">        </span><span class="k">if</span><span class="w"> </span><span class="n">files</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="s1">&#39;fileOrganizer.py&#39;</span><span class="p">:</span>
<span class="w">            </span><span class="nb">print</span><span class="w"> </span><span class="s2">&quot;Found file organizer so ignoring it.&quot;</span>
<span class="w">        </span><span class="k">else</span><span class="p">:</span>
<span class="w">            </span><span class="n">shutil</span><span class="o">.</span><span class="n">move</span><span class="p">(</span><span class="n">files</span><span class="p">,</span><span class="n">destination</span><span class="p">)</span>
</code></pre></div>

<p>print "Script has completed"</p>
<p>You can also find the code on GitHub here:</p>
<p><a href="https://github.com/albertkun/fileOrganizer/blob/master/fileOrganizer.py">https://github.com/albertkun/fileOrganizer/blob/master/fileOrganizer.py</a></p>
<p>Now on time for the second script!</p>







  
  






                
              </article>
            </div>
          
          
<script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script>
        </div>
        
      </main>
      
        <footer class="md-footer">
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    
    <script id="__config" type="application/json">{"base": "../../..", "features": ["navigation.tabs", "navigation.indexes"], "search": "../../../assets/javascripts/workers/search.f886a092.min.js", "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}}</script>
    
    
      <script src="../../../assets/javascripts/bundle.d7c377c4.min.js"></script>
      
        <script src="../../../js/getdata.js"></script>
      
        <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
      
        <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
      
    
  <script>document$.subscribe(() => {const lightbox = GLightbox({"touchNavigation": true, "loop": false, "zoomable": true, "draggable": true, "openEffect": "zoom", "closeEffect": "zoom", "slideEffect": "slide"});})</script></body>
</html>