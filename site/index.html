<!DOCTYPE html>
<html>
<head>

	<!-- redirect after 1 second and fade out -->
	<!-- <meta http-equiv="refresh" content="1; url=learn/" /> -->

	<style>
		body {
			display: flex;
			flex-direction: column;
			justify-content: center;
			align-items: center;
			height: 100vh;
			margin: 0;
			background-color: #f3f3f3;
			font-family: Arial, sans-serif;
		}

		html, body {
			margin: 0;
			padding: 0;
			width: 100%;
			height: 100%;
			overflow: hidden; /* Hide scrollbars if you like */
		}
		.body-background {
			width: 100%;
			height: 100%;
			background-size: cover;
			background-position: center;
			background-repeat: no-repeat;
			position: relative;
		}

		.body-background::after {
			content: '';
			position: absolute;
			top: 0;
			left: 0;
			width: 100%;
			height: 100%;
			background-color: rgba(0, 0, 0, 0.7); /* Adjust the opacity as needed */
			z-index: 1;
		}

		.page-content {
			position: relative;
			z-index: 2;
		}
		.page-content {
			width: 100%;
			height: 100%;
			display: flex;
			flex-direction: column;
			justify-content: center;
			align-items: flex-end;
			padding: 20px;
			box-sizing: border-box;
		}
		.site-logo {
			margin-top: 20px;
		}
		.tagline {
			font-weight: bold;
			font-size: 2rem;
			color: white;
			text-align: right;
			text-shadow: 1px 1px 2px black;
			text-align: right;
		}
		.paragraph {
			color: white;
			text-align: right;
			max-width: 300px;
			text-shadow: 1px 1px 2px black;
		}
		.links {
			margin-top: 20px;
			text-align: right;
		}
		.links a {
			margin-left: 10px;
			text-decoration: none;
			color: #ffcc00; /* Change link color */
			font-weight: bold;
			text-shadow: 1px 1px 2px black;
		}
		.links a:hover {
			color: #ff6600; /* Change link color on hover */
		}

	</style>
	<script src="js/getdata.js"></script>
	<script>

		function init() {
			// Wait for data to load before setting a random work image as background
			document.addEventListener('dataLoaded', function() {
				console.log('Data loaded');
				if (!data.work || !data.work.values || data.work.values.length === 0) {
					console.warn('No valid "work" sheet data found.');
					return;
				}
				
				// Get random index from the values array (which now excludes the header row)
				let randomIndex = Math.floor(Math.random() * data.work.values.length);
				
				// Find the image column index from headers
				let imageColumnIndex = 4; // Default to index 4 if headers aren't available
				if (data.work.headers) {
					const imageHeader = data.work.headers.findIndex(header => 
						String(header).toLowerCase().includes('image'));
					if (imageHeader !== -1) {
						imageColumnIndex = imageHeader;
					}
				}
				
				let image = data.work.values[randomIndex][imageColumnIndex] || 'sandbox.png';
				console.log('Using image:', image);
				document.getElementById('bgContainer').style.backgroundImage = 
					'url("work/images/' + image + '")';
			});
		}
	</script>

</head>
<body>
	<div id="bgContainer" class="body-background">
		<div class="page-content">
			<div class="site-logo">
				<!-- Replace with actual logo image if available -->
				<img src="logo.png" alt="Site Logo" height="50">
			</div>
			<div>
				<div class="tagline">Bringing your research to life</div>
				<p class="paragraph">
					Explore new ideas with interactive workshops, hands-on experimentation, 
					and expert support in our Technology Sandbox.
				</p>
			</div>
			<div class="links">
				<a href="learn/">Learn</a>
				<a href="work/">Work</a>
				<a href="musings/">Musings</a>
				<a href="consult/">Consult</a>
			</div>
		</div>
	</div>

</body>
</html>